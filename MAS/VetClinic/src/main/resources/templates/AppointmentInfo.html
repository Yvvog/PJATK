<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<div>
    <link rel="stylesheet" th:href="@{../main.css}">
    <script th:inline="javascript">
        // JavaScript code to handle the confirmation modal
        document.addEventListener("DOMContentLoaded", function() {
            var modal = document.getElementById("confirmationModal");
            var deleteButton = document.getElementById("deleteButton");
            var confirmDeleteButton = document.getElementById("confirmDeleteButton");
            var cancelDeleteButton = document.getElementById("cancelDeleteButton");

            deleteButton.addEventListener("click", function() {
                modal.style.display = "block";
            });

            confirmDeleteButton.addEventListener("click", function() {
                // User clicked OK, proceed with deletion
                document.getElementById("deleteForm").submit();
                modal.style.display = "none";
            });

            cancelDeleteButton.addEventListener("click", function() {
                // User clicked Cancel, close the modal
                modal.style.display = "none";
            });

            window.addEventListener("click", function(event) {
                // Close the modal if the user clicks outside of it
                if (event.target === modal) {
                    modal.style.display = "none";
                }
            });
        });
    </script>
    <body>
    <header data-role="Header" class="home-header">
        <img
                alt="logo"
                src="https://cdn.discordapp.com/attachments/809034761091022858/1119622406403792997/vetclinic.png"
                class="home-image"
        />
        <div class="home-nav">
            <nav class="navigation-nav">
                <span class="navigation-links3-text"><span>Home</span></span>
                <span class="navigation-links3-text"><span>About</span></span>
                <span class="navigation-links3-text"><span><a th:onclick="|location.href='/appointments/list'|">Appointments</a></span></span>
                <span class="navigation-links3-text"><span><a th:onclick="|location.href='/animals/list'|">Animals</a></span></span>
                <span class="navigation-links3-text"><span>My Profile</span></span>
            </nav>
        </div>
    </header>
    <h1 class="head-text" th:text="'Appoinment of '+${app.animal.name}"></h1>
    <div class="home-container1">
        <h1>Information</h1>
        <table class="table-text">
            <tbody>
            <tr>
                <td>Doctor: </td>
                <td th:text="${app.doctor.name}"></td>
            </tr>
            <tr>
                <td>Animal: </td>
                <td th:text="${app.animal.name}"></td>
            </tr>
            <tr>
                <td>Diagnosis: </td>
                <td th:text="${app.diagnosis}"></td>
            </tr>
            <tr>
                <td>Date: </td>
                <td th:text="${app.date}"></td>
            </tr>
            </tbody>
        </table>
        <form id="deleteForm" method="post" th:action="@{/appointments/delete}">
            <input type="hidden" name="deleteId" th:value="${app.id}" />
            <button type="button" class="home-button" id="deleteButton">Delete</button>
        </form>
    </div>
    <div class="home-container02">
        <button type="button" class="home-button" th:onclick="|location.href='/animals/${app.animal.id}'|">Back</button>
    </div>
    <div id="confirmationModal" class="modal">
        <div class="modal-content">
            <p class="center-text"><b>Are you sure you want to delete?</b></p>
            <table class="table-text">
                <tbody>
                <tr>
                    <td>Doctor: </td>
                    <td th:text="${app.doctor.name}"></td>
                </tr>
                <tr>
                    <td>Animal: </td>
                    <td th:text="${app.animal.name}"></td>
                </tr>
                <tr>
                    <td>Diagnosis: </td>
                    <td th:text="${app.diagnosis}"></td>
                </tr>
                <tr>
                    <td>Date: </td>
                    <td th:text="${app.date}"></td>
                </tr>
                </tbody>
            </table>
            <div class="modal-buttons">
                <button id="confirmDeleteButton" class="home-button">Delete</button>
                <button id="cancelDeleteButton" class="home-button">Cancel</button>
            </div>
        </div>
    </div>
    <footer class="home-footer">
        <div class="home-container03">
            <img
                    alt="logo"
                    src="https://cdn.discordapp.com/attachments/809034761091022858/1119622406403792997/vetclinic.png"
                    class="home-image"
            />
            <span class="home-text03">
          <span>Â© 2021 teleportHQ,</span>
          <br />
          <span>All Rights Reserved.</span>
        </span>
        </div>
        <div class="home-links-container">
            <div class="home-container04">
                <div class="home-container05">
                    <span class="footer-text">Product</span>
                    <span class="footer-text">Features</span>
                    <span class="footer-text">Pricing</span>
                    <span class="footer-text">Tutorials</span>
                    <span class="footer-text">Releases</span>
                </div>
                <div class="home-container05">
                    <span class="footer-text">Company</span>
                    <span class="footer-text">About</span>
                    <span class="footer-text">Careers</span>
                    <span class="footer-text">Contact</span>
                    <span class="footer-text">Blog</span>
                </div>
            </div>
            <div class="home-container04">
                <div class="home-container05">
                    <span class="footer-text">Support</span>
                    <span class="footer-text">Terms of service</span>
                    <span class="footer-text">Privacy Policy</span>
                    <span class="footer-text">Legal</span>
                    <span class="footer-text">Help center</span>
                </div>
                <div class="home-container05">
                    <span class="footer-text">Resources</span>
                    <span class="footer-text">Blog</span>
                    <span class="footer-text">Pricing</span>
                    <span class="footer-text">Service</span>
                    <span class="footer-text">Product</span>
                </div>
            </div>
        </div>
    </footer>
    </body>
</div>
</html>